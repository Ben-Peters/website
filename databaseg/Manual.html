<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML> <HEAD>
<TITLE>Lens and Lights Database</TITLE>
</HEAD>
<BODY>
<H1>Lens and Lights</H1>

<P>
Right now this is a very brief overview of how I expect the database
to work.  This will eventually turn into an online manual.
</P>

<H1>Database Configuration</H1>

<P>This section describes the <A HREF="DBConfig.cgi">Database
Configuration Program</A>.  It is used for a variety of configuration
issues that are not part of the day-to-day operation of the
database.</P>

<H2>MySQL Configuration</H2>

<P>The database is set up to run on a MySQL server.  This server is
provided by the CCC.  There are 5 pieces of information necessary to
connect to the MySQL server.  The first is the machine running the
server.  The second is the port on which the server is running.  If
this is left blank, the default MySQL port is used.  The third is the
name of the database to use.  The fourth and fifth are a username that
has permission to use that database, and the password for that
username.</P>

<P>The next section controls the creation and deletion of tables
within the database.  There is one set of buttons for creating the
tables, one per table, and one set of buttons for deleting the tables,
also one per table.  Since deleting the tables will also delete all
information within the table, and there is no "undo" mechanism for
this, the user is required to confirm the deletion.</P>

<P>Later there will likely be another set of buttons here for
archiving the data in the tables</P>

<H2>Vice President Initials</H2>

<P>The next section is the initials placed in the "Confirmed By" field
when entering new events.  The person entering the event is free to
change the initials, this is just a default value.</P>

<H2>Officers</H2>

<P>The next section lists the usernames of each of the six officers,
the advisor, and the assistant technical directors.  These lists are
generated from the active members in the member table, so someone must
be listed as an active member of Lens and Lights in order to be listed
as an officer.</P>

<H2>Access Control</H2>

<P>Access control is based on CCC usernames.  If someone does not have
a CCC username, they can not gain access to any of the restricted
sections of the database.<P>

<P>The different types of actions that can be performed in the
database are listed in a table, with a checkbox for each of the 13
classes of users: the 6 officers, ATD, Advisor, active members, all
members, on-campus users, the general public, and a special category
for crew chiefs.  This category can be used to give special
permissions to users for events in which they are crew chief.  These
permissions are in addition to whatever other permissions they already
have.  The active and member permissions are also based on the
usernames in the members table.  Anyone in the table is considered a
member.  Anyone whose current status is "Active" or "Away" is
considered an active member for these purposes.</P>

<H1>Entering New Events</H1>

<H2>Events Received Through the Web Form</H2>

<P>The database will display a list of the events that people have
submitted that haven't been confirmed yet.  These are stored in a
separate table, since the information submitted may not be in the
proper form to be entered directly.  Selecting one of these events
will display the Enter New Event form (see below) with as many of the
fields filled in as possible.</P>

<P>Some of the information, such as dates, may not be recognizable by
the program.  If this is the case, the text the user entered will be
displayed along with the field so the user can enter the proper
information.</P>

<P>For the billing and contact information, the submitted information
will be displayed, along with a field for selecting existing records,
and a button to create a new record with this information.  Selecting
this button will bring the user to the page for the appropriate table,
with the provided information filled in.  Once the user accepts the
information, the entry form will be displayed again, with the new
record already selected.</P>

<P>Entering the event then proceeds as below.</P>

<H2>Entering Other Events</H2>

<P>Selecting the "Enter New Event" item will bring up a form for
entering all the required information.  All but two of the fields on
the form are required.  They are the start date and end date.  If the
entire event, including setup, occurs on the same day, then these
fields can be ignored.  If the dates are different, check the box next
to the appropriate fields.</P>

<P>Descriptions of the fields</P>
<DL>
  <DT>Event Name</DT>
  <DD>The name of the event, as provided by the sponsor</DD>
  <DT>Event Location</DT>
  <DD>The location of the event.  Select a location from the list, or
      select "other" and enter the location in the field</DD>
  <DT>Type</DT><DD>Select the event type from the list</DD>
  <DT>Setup Date</DT><DD>The date that setup for the event starts</DD>
  <DT>Start Date</DT><DD>If the date the actual event starts is
      different from the setup date, check the box and enter the date
      here</DD>
  <DT>End Date</DT><DD>If the date the event ends is different from
      the setup date (and the start date if specified), check the box
      and enter the date here</DD>
  <DT>Setup Time</DT><DD>The time that setup can begin (the time that
      the sponsor's reservation for the location begins).</DD>
  <DT>Start Time</DT><DD>The time that the event opens to the
      public</DD>
  <DT>End Time</DT><DD>The time that the event ends</DD>
  <DT>Contact</DT><DD>Select the contact from the list, or select the
      Add button to go to the <A HREF="#NewContact">Add a New
      Contact</A> form.</DD>
  <DT>Contact</DT><DD>Select the group to be billed from the list, or
      select the Add button to go to the <A HREF="#NewBilling">Add a New
      Billing Entry</A> form.</DD>
  <DT>Requirements</DT><DD>The requirements for the event, <b>as
      provided by the sponsor</b>.  There is a field for additional
      comments below.</DD>
  <DT>Date Submitted</DT><DD>Date the event request was submitted</DD>
  <DT>Date Confirmed</DT><DD>Date the event was confirmed to the
      sponsor, generally today.</DD>
  <DT>Estimate</DT><DD>Estimated price for the event.</DD>
  <DT>By</DT><DD>Initials of the person entering the event.</DD>
  <DT>Notes</DT><DD>Any additional information about the event that
      needs to be recorded.  This will appear on the printed
      workorder.</DD>
  <DT>Assigned Equipment</DT><DD>If there are going to be multiple
      shows at the same time that might use similar equipment, this
      can be used to assign equipment to the particular event.  This
      could also be used for requests from the sponsor for specific
      equipment.  This will also appear on the printed workorder.</DD>
</DL>

<P>Once all the information is filled out, select the "Save Workorder"
button.  If any of the required information is missing, a list of the
missing information will be displayed, along with a button to go back
to the form to complete it.</P>

<P>Once the event has been entered, a confirmation page will be
displayed, along with buttons for printing a workorder, printing a
confirmation sheet, and emailing a confirmation to the contact (if an
email address exists for the contact).  <I>I'm expecting to be able to
create PDF versions of the printed forms so they can be displayed in
the browser if it's a graphical browser, or sent directly to a printer
if on a Unix machine running lynx.  If none of the printers support
PDF, or if I can't generate PDF, then it will probably be generated in
Postcript.</I></P>

<H2>Sunday Night Film Series</H2>

<P>Since most of the information for the Sunday Night Film Series is
the same from movie to movie, I'm planning a single set of forms to
enter all the movies for an entire semester.  The first form would
take the dates of the first movie for each of the two terms.</P>

<P>Submitting that would bring up another form with fields for
selecting the contact and billing records to be used, and a date/name
field pair for those two dates, and the next seven Sunday nights
listed, with the expected dates already filled in.  They will be
fields instead of just text so the dates can be changed if necessary,
such as for Labor Day weekend.  If any of the weekends doesn't have a
film, or doesn't have the usual film (such as movies on the quad) then
the title field can be left blank, and no events will be created for
that week.</P>

<P>Once this form is completed, two events will be created for each
movie, with 6:30 and 9:30 start times respectively, with the proper
event type and location, and an estimated cost of 0 (the films are
billed en-masse at the end of the semester).  It will also create
entries in the projection table for each of the events, marking the
6:30 one as the first showing of each.</P>

<HR>
<ADDRESS>gregm@alum.wpi.edu</ADDRESS>
<!-- hhmts start -->
Last modified: Sat May 19 18:16:52 Eastern Daylight Time 2001
<!-- hhmts end -->
</BODY> </HTML>
